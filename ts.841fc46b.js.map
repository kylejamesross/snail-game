{"version":3,"sources":["ts/constants.ts","../.history/src/ts/utils_20200701140937.ts","ts/utils.ts","ts/buttons.ts","ts/ui.ts","ts/GameStates.ts","ts/gameState.ts","ts/index.ts"],"names":[],"mappings":";;;;;AKAA,IAAK,UAAL;AFAA,AHAa,MGAb,CHAa,CAAA,SAAA,GAAY,IAAZ,IGAb,GAAA,OAAA,CAAA,8CAAA,CAAA;AFAa,AIAb,ALCa,AIAb,AFDa,CGAb,KDCA,CHDa,ADCA,AEDA,CDAA,ADCA,AEDA,GGAR,ELCQ,AIAb,GJAqB,AIArB,CJAsB,IKDtB,EAAe,ALCM,AIArB,CAAA,CJA8B,MAAT,EAAiB,AIAtC,CAAA,QJAqB,CAAR,ECDA,ACAA,GDAwC,ACAA,CDCnD,ACAA,SDDmD,ACAA,EDEnD,ACAA,QDFmD,ACAA,KDG3C,ACAA;ADCR,AIHA,AFAF,AHCa,AEEX,EGHA,IFAF,CHCa,CCEL,ADFK,AEEL,IGHN,CAAA,AFAF,EFGe,ACAA,CCHf,EFGkB,ACAA,CFFL,GAAc,CKDzB,AFAF,CEAE,AFAF,CHCa,CCEc,ACAA,CDAC,ACAA,GGH1B,CAAA,EFAF,CEAE,AFAF,CEAE,CAAA,GAAA,CJGgB,ACAA,CDAwB,ACAA,IGHxC,KJGgB,ACAA,CDAhB,ACAA;AGFA,ALCW,AIAb,ECDE,KLCW,CAAA,CIAG,GCDd,CAAA,CLCW,GAAS,AIAtB,CJAuB,AIAE,KCDvB,ALCoB,AIAtB,CCDE,CLC4B,AIAQ,SCDpC,ALCoB,CKDpB,ALCW,GKDX,CAAA,CAAA,GAAA,UAAA;AJGA,AIFA,AFCF,AHAa,AIAX,AFCA,EGFA,IJEI,ACAA,CFDO,CAAA,AIAL,CDAgB,GEDtB,CJEA,AIFA,AHEA,EDAa,AGDA,AFCA,GFDF,AIAK,GJAQ,EKDxB,ALCW,CKDX,EFCF,ACA0B,CDAgB,ACAf,KCDzB,CAAA,GAAA,AFCF,CEDE,CAAA,AFC4D,ECA5C,CCDhB,ADCoD,QCDpD,ADCgB,CAAhB;AHEE,AIFF,AFCA,AHAW,AECT,EGFF,AFCA,EFCE,ACAA,GFDS,CAAA,CGAX,CAAA,CFCS,ACAA,CDAC,AIFV,AHEU,CGFV,OLCW,GKDX,ALC0B,CKD1B,ALCW,ICCT,ACAA,CDAyB,ACAA,EGF3B,CAAA,GAAA,CJEE,AIFF,AHEE,CGFF,CJEoC,ACAA,EGFpC,MJEE,ACAA,CGFF,AFCA,CAAsC,eAAtC,EAAuD,gBAAvD;AFEC,AIFD,AFCA,AGNF,ACAA,AHKE,AFEC,EGFD,AFCA,IGNF,ACAA,AHKM,GDCJ,CAAA,AGNF,EDKE,CAAA,ACLF,AFKE,EAAa,EGLf,GDAA,ACAA,CDAA,EDKE,CAAA,GCLF,ACAA,CDAA,ACAA,KFKE,CAAA,GAAA,CAAA,CAAA,EELF,CFKE,AELF,KJME,CAAsC,GEDtC,cFCA,EAAyD,kBAAzD;AFED,AIFC,AFCA,AHAW,AIDT,AFEH,CDRY,ACAA,CGMX,AFCA,ECDE,GJCS,CAAA,CGAX,CAAA,CCDS,CCAT,ADAU,CCAV,QDAE,ECAF,CAAA,ADAsB,CJCX,GAAqB,KAAD,AIDA,ICA/B,ALEA,CKFA,ADAoC,EAAlC,CCAF,ALEI,CKFJ,ALEK,CKFL,GAAA,CFCA,AHCA,CGDsC,AHC3B,IAAI,CAAC,MKFhB,ALEW,IGDX,CHC2B,CGD4B,AHCvD,IAAgC,CAAhC,GAAoC,KADzB,EGAX;AEAA,AFCA,AGPF,ACAA,AHMG,ECAD,AFCA,IGPF,ACAA,GJOE,CAAA,EEDA,CAAA,EENF,EDAA,CCAA,EDAA,GDME,CAAA,GCNF,CAAA,KDME,AENF,CFME,AENF,GFME,CAAA,CAAA,ECNF,ACAA,CFME,ACNF,ACAA,KJOE,CACE,GEFF,EENF,CAAA,CAAA,eJOE,EAEE,sBAFF;AFEW,AIFX,AFIA,AHFW,AIFZ,AFEY,EGFX,AFIA,KFFW,ADAA,AEAA,CDAA,ADAA,AEAA,CCEX,CAAA,EEJA,CAAA,SLEW,CKFX,CAAA,CLE6B,GCAlB,ACAA,EGFX,ALE4B,CCAM,AIFlC,AHEkC,CDClC,ACAA,EGHA,ALGA,CKHA,CAAA,ELGI,CKHJ,ALGK,KAAL,CKHA,ALGW,EGCX,CFFkC,AEEI,ADFJ,CFCnB,CCCf,ADDgB,AEChB,MFDW,KAAgB,CAA3B,CGCA,EAAuD,CHDvB,CCDE,ADClC,AEDkC,EAGlC,CFFoC,ECE5B,ECH0B,CFAvB,IEIH,CCFR;AFEA,AILA,ACCF,ACRA,ALaE,EGNA,ICCF,ACRA,ENYQ,ACCA,IGNN,CAAA,EJKa,ACCA,EKbf,CNYkB,AKJlB,AJKkB,EKblB,CDQA,EDDE,CAAA,EJKyB,ACCA,CDDC,ACCA,KGN1B,CAAA,EEPF,CFOE,ACCF,ACRA,CFOE,ACCF,CDDE,EJKgB,ACCA,CDDwB,AILxC,AHMwC,EKb1C,CDQA,ACRA,CDQA,IDDE,QJKgB,AMZlB,ALakB,CDDhB,AMZF,ALaE,CILF,ACRA,CDQA,CAAA;ADAE,AFIA,AHDW,AIVb,ECOE,KLGW,AIVb,CJUa,AIVb,GDWW,CEJT,CAAA,GDPF,GAAA,ICOE,ALGW,CKHX,ELG8B,CGC9B,ACXF,GDW2B,CHDI,CKH7B,CAAA,ELIA,CKJA,CAAA,CAAA,CLII,CAAC,CKJL,ILIA,CAAW,GKJX,CLIe,CAAC,MAAL,KAAgB,CAA3B,IAAgC,CAAhC,GAAoC,KADzB;ACEX,AIJD,AFIG,AGJJ,ACPA,ALYE,CGhBF,AEIC,EFJI,CFeD,EFAE,AKJN,AJKM,ODDJ,AIfa,ACWf,AJKE,EDDa,ACCA,CILf,ACPgB,EFJX,KCWL,CAAA,EHII,AIXH,CJWG,CEfW,CEIW,EFJX,EAAA,ACWf,CDXA,ACWA,aHII,CAAqB,cAArB,EAAqC,YAArC;AFCA,AEAA,AIXF,AHKF,AFOI,ICDA,IIXI,CHKQ,CHMN,ACCA,GCDG,CAAC,GIXG,AHKjB,CAAyB,CHMN,ACCA,CKZC,ENWE,ACCA,CCDlB,ACNJ,CGLwB,CHKc,IHMT,ACCA,CDDC,ACCA,KKZN,CAAA,GNWpB,ACCA,IKZgB,EAAlB;ANYE,AIJJ,AFIG,AGJH,ACPE,AHKA,AFOE,EKZF,ENWE,ACCA,EILE,CDAN,CAAA,ADFQ,GGLN,CAAA,CNWW,ACCA,CDDC,ACCA,CGLd,ACAA,AFFe,CEEA,EDAA,ADFG,CGLhB,CNWE,AMXU,ALYV,CDDiB,ACCA,KEPK,CAAC,CCE3B,CEPE,SNWE,ACCA,EEPc,AFOsB,CEPC,IFOrC,UEPc,CAAhB;AHOC,AKkBD,AC5BA,ALWC,EIiBD,IC5BI,OD4BJ,GAAA,IC5BkB,GAAG,IAAI,CAAC,GAAL,EAArB;ANWD,AEAC,AGkBE,AFxBF,AFOD,CDVY,ACAA,KEGP,GEwBG,EHlBE,ECNT,EAAa,CEwBX,GAAe,UHlBjB,EGkBiB,CHlBU,AGkBV,OAAA,CAAW,IAA1B;AHjBA,AGkBA,AC5BF,AHIE,IDMA,KGkBK,CFxBC,CGJC,GD4BP,GAAa,CAAb,CFxBe,GAAG,IDMlB,CAAA,EIVF,AHI2B,CAAC,EGJD,OHIzB,QDMA,CAAqB,cAArB,EAAqC,YAArC;AACA,AGkBA,AC5BA,AHIA,IDMA,KGkBK,CC5BC,AHIA,GDMG,AIVA,CJUC,EIVE,ED4BZ,EC5BgB,CD4BC,AC5BA,CD4BC,CHlBlB,AGkBA,AFxBmB,CGJP,EAAZ,AHIsB,CAAC,GAAG,SAAJ,EAAe,IAAf,CAAqB,SAAD,IACxC,SAAS,CAAC,UAAV,CAAqB,QAArB,CADoB,CAAtB;ADOD,AGkBC,SAAK,UAAL,GAAkB,CAAC,CAAnB;AACA,AC7BA,AHMA,QGNI,AHMA,CEuBC,OAAL,GAAe,CAAC,CAAhB,AFvBA,CGNkB,CHMC,GGNG,GAAtB,EAA2B;AJY7B,AGkBE,AC7BE,AHMA,MGNA,AHMA,GEuBG,EHlBE,IIXI,AHMA,CGNC,AHMA,IGNV,EHMA,CAAiB,GDKrB,CGkBE,EHlBsB,CGkBI,CAAC,CAA3B,IFvBE,EAAgC,KAAhC;ADMF,AGkBA,AC7BE,AHMD,IDKD,EIXE,GD6BG,IHlBI,CAAC,IAAV,EIXgB,GAAG,ED6BnB,CC7BsB,ED6BE,CAAC,AC7BA,CD6BzB,UC7ByB,CAAA,SAAvB;AJYH,AGkBC,AC7BC,SD6BI,sBAAL,GAA8B,CAAC,CAA/B;AACA,AFxBA,IAAA,KEwBK,IFxBI,CAAC,MAAV,CAAiB,QEwBjB,CFxB0B,EEwBE,CAAC,CAA7B,CFxB+B,EAA/B,EAAmC,IAAnC;ADOF,AGkBE,AC7BA,AHKD,IGLC,KD6BK,EHlBE,MGkBP,GAAgB,CAAC,CAAjB,GC7BqB,CAAC,OJWxB,GAA+B,QIXR,CAArB;AJYA,AGkBA,AC7BD,AHKF,IDMG,KGkBK,IHlBI,CAAC,AGkBV,GAAa,CAAb,SHlBA;AACD,AGkBA;AC5BD,AHVF,EGUE,KHVF,CAAA,QAAA,GAAA,CGUoB,OHVpB;ADsBE,AGkBO,AC7BR,CAjBD,CD8CS,SHlBE,CGkBQ,GAAA,WHlBjB,GAAwB;AACtB,AGkBA,AF1BJ,IDQI,KGkBK,AF1BO,IDQH,CAAC,IGkBV,GAAiB,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","file":"ts.841fc46b.js","sourceRoot":"..\\src","sourcesContent":["export const TICK_RATE = 3000;\nexport const ICONS = [\"fish\", \"poop\", \"weather\"];\nexport const RAIN_CHANCE = 0.2;\nexport const SCENES = [\"day\", \"raining\"];\nexport const DAY_LENGTH = 60;\nexport const NIGHT_LENGTH = 3;\n\nexport const getNextHungerTime = (clock: number): number =>\n  Math.floor(Math.random() * 3) + 8 + clock;\n\nexport const getNextDieTime = (clock: number): number =>\n  Math.floor(Math.random() * 2) + 5 + clock;\n\nexport const getNextPoopTime = (clock: number): number =>\n  Math.floor(Math.random() * 3) + 8 + clock;\n","export const createElementAndAddClickEventListener = (\n  className: string,\n  listener: () => void\n): void => {\n  const element = document!.querySelector(className);\n  if (element) {\n    element.addEventListener(\"click\", listener);\n  }\n};\n\nexport const toggleClassOnElement = (\n  ElementClassName: string,\n  classNameToToggle: string\n): void => {\n  const element = document!.querySelector(ElementClassName);\n  if (element) {\n    const classList = element.classList;\n    classList.toggle(classNameToToggle);\n  }\n};\n","export const createElementAndAddClickEventListener = (\n  className: string,\n  listener: () => void\n): void => {\n  const element = document!.querySelector(className);\n  if (element) {\n    element.addEventListener(\"click\", listener);\n  }\n};\n\nexport const toggleClassOnElement = (\n  ElementClassName: string,\n  classNameToToggle: string,\n  force?: boolean\n): void => {\n  const element = document!.querySelector(ElementClassName);\n  if (element) {\n    const classList = element.classList;\n    classList.toggle(classNameToToggle, force);\n  }\n};\n","import { toggleClassOnElement } from \"./../../.history/src/ts/utils_20200701140937\";\nimport { createElementAndAddClickEventListener } from \"./utils\";\nimport GameState from \"./gameState\";\n\nexport default function initializeButtons(gameState: GameState): void {\n  createElementAndAddClickEventListener(\".start-button\", startButtonClick);\n  createElementAndAddClickEventListener(\".restart-button\", restartButtonClick);\n  createElementAndAddClickEventListener(\".feed-control\", feedButtonClick);\n  createElementAndAddClickEventListener(\n    \".environment-control\",\n    environmentButtonClick\n  );\n  createElementAndAddClickEventListener(\".poop-control\", poopButtonClick);\n\n  function startButtonClick() {\n    toggleClassOnElement(\".game-screen\", \"start-menu\");\n    gameState.startGame();\n  }\n\n  function restartButtonClick() {\n    toggleClassOnElement(\".game-screen\", \"death-menu\");\n    gameState.startGame();\n  }\n\n  function feedButtonClick() {\n    gameState.feed();\n  }\n\n  function environmentButtonClick() {\n    gameState.changeWeather();\n  }\n\n  function poopButtonClick() {\n    gameState.cleanUpPoop();\n  }\n}\n","import { RAIN_CHANCE, SCENES } from \"./constants\";\nimport { toggleClassOnElement } from \"./utils\";\n\nexport function modSnail(state: string) {\n  const element = document.querySelector<HTMLElement>(\".snail\");\n  if (element) {\n    element.className = `snail ${state}`;\n  }\n}\n\nexport function modScene(state: string) {\n  const element = document.querySelector(\".game-screen\");\n\n  if (element) {\n    const classList = element.classList;\n    const existingScene = [...classList].find((className: string) =>\n      className.startsWith(\"scene-\")\n    );\n    if (existingScene) {\n      classList.toggle(existingScene, false);\n    }\n    classList.toggle(`scene-${state}`, true);\n  }\n}\n\nexport function modEnvironmentButton(state: string) {\n  const inverted = state === \"raining\" ? \"day\" : \"raining\";\n  toggleClassOnElement(\".environment-control\", inverted, true);\n  toggleClassOnElement(\".environment-control\", state, false);\n}\n\nexport function togglePoopPile(show: boolean) {\n  const element = document.querySelector<HTMLElement>(\".poop-pile\");\n  if (element) {\n    element.classList.toggle(\"hidden\", !show);\n  }\n}\n","enum GameStates {\n  INIT = 0,\n  HATCHING = 1,\n  IDLING = 3,\n  SLEEP = 4,\n  FEEDING = 5,\n  CELEBRATING = 6,\n  POOPING = 7,\n  DEAD = 8,\n  HUNGRY = 9,\n  POOPED = 9,\n}\n\nexport default GameStates;\n","import { modSnail, modScene, togglePoopPile, modEnvironmentButton } from \"./ui\";\nimport {\n  SCENES,\n  DAY_LENGTH,\n  NIGHT_LENGTH,\n  getNextDieTime,\n  getNextHungerTime,\n  getNextPoopTime,\n  RAIN_CHANCE,\n} from \"./constants\";\nimport GameStates from \"./GameStates\";\nimport { toggleClassOnElement } from \"./utils\";\n\nclass GameState {\n  public current: GameStates;\n\n  private clock: number;\n\n  private sleepTime: number;\n\n  private hungryTime: number;\n\n  private dieTime: number;\n\n  private timeToStartCelebrating: number;\n\n  private timeToEndCelebrating: number;\n\n  private timeToStartPooping: number;\n\n  private timeToEndPooping: number;\n\n  private wakeTime: number;\n\n  private scene: number;\n\n  constructor() {\n    this.current = GameStates.INIT;\n    this.clock = 1;\n    this.sleepTime = -1;\n    this.hungryTime = -1;\n    this.dieTime = -1;\n    this.timeToStartPooping = -1;\n    this.timeToEndPooping = -1;\n    this.timeToStartCelebrating = -1;\n    this.timeToEndCelebrating = -1;\n    this.wakeTime = -1;\n    this.scene = 0;\n  }\n\n  public clearTimes() {\n    this.sleepTime = -1;\n    this.hungryTime = -1;\n    this.dieTime = -1;\n    this.timeToStartPooping = -1;\n    this.timeToEndPooping = -1;\n    this.timeToStartCelebrating = -1;\n    this.timeToEndCelebrating = -1;\n    this.wakeTime = -1;\n  }\n\n  public startGame() {\n    this.current = GameStates.IDLING;\n    this.scene = Math.random() > RAIN_CHANCE ? 0 : 1;\n    modScene(SCENES[this.scene]);\n    toggleClassOnElement(\".feed-control\", \"warning\", false);\n    toggleClassOnElement(\".poop-control\", \"warning\", false);\n    modEnvironmentButton(SCENES[this.scene]);\n    modSnail(\"\");\n    this.sleepTime = this.clock + DAY_LENGTH;\n    this.hungryTime = getNextHungerTime(this.clock);\n  }\n\n  public tick() {\n    this.clock++;\n\n    switch (this.clock) {\n      case this.hungryTime:\n        this.getHungry();\n        break;\n      case this.dieTime:\n        this.die();\n        break;\n      case this.timeToStartCelebrating:\n        this.startCelebrating();\n        break;\n      case this.timeToEndCelebrating:\n        this.endCelebrating();\n        break;\n      case this.timeToStartPooping:\n        this.startPooping();\n        break;\n      case this.timeToEndPooping:\n        this.endPooping();\n        break;\n      case this.sleepTime:\n        this.sleep();\n        break;\n      case this.wakeTime:\n        this.wake();\n        break;\n    }\n  }\n\n  public changeWeather() {\n    if (this.current !== GameStates.SLEEP) {\n      this.scene = (this.scene + 1) % SCENES.length;\n      modScene(SCENES[this.scene]);\n      modEnvironmentButton(SCENES[this.scene]);\n    }\n  }\n\n  public cleanUpPoop() {\n    if (this.current === GameStates.POOPED) {\n      this.dieTime = -1;\n      togglePoopPile(false);\n      this.hungryTime = getNextHungerTime(this.clock);\n      toggleClassOnElement(\".poop-control\", \"warning\", false);\n    }\n  }\n\n  public sleep() {\n    this.current = GameStates.SLEEP;\n    modSnail(\"sleeping\");\n    modScene(\"night\");\n    this.clearTimes();\n    toggleClassOnElement(\".feed-control\", \"warning\", false);\n    toggleClassOnElement(\".poop-control\", \"warning\", false);\n    this.wakeTime = this.clock + NIGHT_LENGTH;\n  }\n\n  public wake() {\n    this.startGame();\n  }\n\n  public getHungry() {\n    this.current = GameStates.HUNGRY;\n    this.dieTime = getNextDieTime(this.clock);\n    this.hungryTime = -1;\n    toggleClassOnElement(\".feed-control\", \"warning\", true);\n    modSnail(\"hungry\");\n  }\n\n  public die() {\n    this.current = GameStates.DEAD;\n    modSnail(\"dead\");\n    this.clearTimes();\n    toggleClassOnElement(\".game-screen\", \"death-menu\");\n  }\n\n  public startPooping() {\n    this.current = GameStates.POOPING;\n    this.timeToStartPooping = -1;\n    this.timeToEndPooping = this.clock + 4;\n    modSnail(\"pooping\");\n  }\n\n  public endPooping() {\n    this.current = GameStates.POOPED;\n    this.timeToEndPooping = -1;\n    this.dieTime = getNextDieTime(this.clock);\n    toggleClassOnElement(\".poop-control\", \"warning\", true);\n    togglePoopPile(true);\n    modSnail(\"\");\n  }\n\n  public startCelebrating() {\n    this.current = GameStates.CELEBRATING;\n    modSnail(\"celebrate\");\n    this.timeToStartCelebrating = -1;\n    this.timeToEndCelebrating = this.clock + 2;\n  }\n\n  public endCelebrating() {\n    this.timeToStartCelebrating = -1;\n    this.timeToStartPooping = getNextPoopTime(this.clock);\n    this.current = GameStates.IDLING;\n    modSnail(\"\");\n  }\n\n  public feed() {\n    if (this.current !== GameStates.HUNGRY) {\n      return;\n    }\n    this.current = GameStates.FEEDING;\n    this.dieTime = -1;\n    modSnail(\"eating\");\n    toggleClassOnElement(\".feed-control\", \"warning\", false);\n    this.timeToStartCelebrating = this.clock + 2;\n  }\n}\n\nexport default GameState;\n","import { TICK_RATE } from \"./constants\";\nimport initButtons from \"./buttons\";\nimport GameState from \"./gameState\";\n\n(async function initialize() {\n  const gameState = new GameState();\n  initButtons(gameState);\n\n  let nextTimeToTick = Date.now();\n\n  function nextAnimationFrame() {\n    const now = Date.now();\n    if (nextTimeToTick <= now) {\n      gameState.tick();\n      nextTimeToTick = now + TICK_RATE;\n    }\n\n    requestAnimationFrame(nextAnimationFrame);\n  }\n\n  nextAnimationFrame();\n})();\n"]}